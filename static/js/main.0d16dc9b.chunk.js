(this["webpackJsonptraining-manager-frontend"]=this["webpackJsonptraining-manager-frontend"]||[]).push([[0],{242:function(e,t,a){e.exports=a(397)},257:function(e,t,a){},397:function(e,t,a){"use strict";a.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(210),r=a.n(n),l=(a(252),a(0)),s=a.n(l),i=a(57),c=a(18),o=a(212),u=a(31),p=a.n(u),d=a(29),m=(a(257),a(21)),h=a(20),g=a(22),E=a(23),f=a(24),v=a(60),y=a(418),b=a(53),S=a(412),k=a(17);function C(e,t){return{type:"SET_USER",payload:e}}function w(e,t,a){return{type:"SET_USERS",payload:{users:t,userType:a}}}function _(e){return{type:"SET_SESSIONS",payload:e}}function O(e){return{type:"SET_USER_LOADING",payload:e}}function j(e){return{type:"SET_ALL_LOADING",payload:e}}function T(e){return function(t){switch(e.type){case"Trainer":D(t,e.id,e),P(t,e.id),w(0,[e],"Trainer");break;case"Client":I(t,e.id,e),P(t,e.id),w(0,[e],"Client");break;default:D(t,null,e),I(t),P(t)}!function(e){fetch("".concat(it,"/levels")).then((function(e){return e.json()})).then((function(t){e({type:"SET_LEVELS",payload:t.levels})}))}(t),function(e){fetch("".concat(it,"/packages")).then((function(e){return e.json()})).then((function(t){e({type:"SET_PACKAGES",payload:t.packages})}))}(t),function(e){fetch("".concat(it,"/client_packages")).then((function(e){return e.json()})).then((function(t){e({type:"SET_CLIENT_PACKAGES",payload:t.client_packages})}))}(t)}}function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t?"".concat(it,"/recentusersessions/").concat(t):"".concat(it,"/recentsessions");fetch(a).then((function(e){return e.json()})).then((function(t){e(_(t.sessions))}))}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t?"".concat(it,"/usersessions/").concat(t):"".concat(it,"/sessions");fetch(a).then((function(e){return e.json()})).then((function(t){e(_(t.sessions))}))}function D(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,n=t?"".concat(it,"/userclients/").concat(t):"".concat(it,"/clients");fetch(n).then((function(e){return e.json()})).then((function(t){switch(e(w(0,t.users,"Client")),e(j(!1)),a.type){case"Trainer":case"Client":N(e,a.id);break;default:N(e)}}))}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=arguments.length>2?arguments[2]:void 0,n=t?"".concat(it,"/usertrainers/").concat(t):"".concat(it,"/trainers");fetch(n).then((function(e){return e.json()})).then((function(n){if(e(w(0,n.users,"Trainer")),t)switch(e(j(!1)),a.type){case"Trainer":case"Client":N(e,a.id);break;default:N(e)}}))}function L(e,t){return{type:"UPDATE_USER",payload:{user:e,userType:t}}}function A(e){return{type:"ADD_PACKAGE",payload:e}}function U(e){return{type:"UPDATE_PACKAGE",payload:e}}function F(e){return{type:"DELETE_PACKAGE",payload:e}}var M=Object(c.b)(void 0,(function(e){return{setUser:function(t){return e(C(t))}}}))(Object(v.g)((function(e){return s.a.createElement("div",{className:"nav"},s.a.createElement(y.a,null,s.a.createElement(y.a.Menu,{position:"left"},s.a.createElement(y.a.Item,{name:"home",onClick:function(){e.history.push("/")}},s.a.createElement(b.a,{name:"target"}))),s.a.createElement(y.a.Menu,{position:"right"},s.a.createElement(S.a,{item:!0,icon:"user",simple:!0},s.a.createElement(S.a.Menu,null,s.a.createElement(S.a.Item,{onClick:function(){e.history.push("/settings")}},"Settings"),s.a.createElement(S.a.Divider,null),s.a.createElement(S.a.Item,{onClick:function(){localStorage.removeItem("user_id"),e.setUser({})}},"Logout"))))))}))),x=Object(c.b)((function(e){return{activeItem:e.app.activePage,type:e.user.user.type}}),{setActivePage:function(e){return{type:"SET_ACTIVEPAGE",payload:e}}})((function(e){var t=function(){switch(e.type){case"Manager":return{schedule:{name:"Schedule",to:"/schedule"},trainers:{name:"Trainers",to:"/trainers"},clients:{name:"Clients",to:"/clients"},packages:{name:"Manage Packages",to:"/packages"}};case"Trainer":return{schedule:{name:"My Schedule",to:"/schedule"},trainers:{name:"My Profile",to:"/"},clients:{name:"My Clients",to:"/clients"},packages:{name:"Sell Packages",to:"/packages"}};case"Client":return{schedule:{name:"My Schedule",to:"/schedule"},trainers:{name:"My Trainers",to:"/trainers"},clients:{name:"My Profile",to:"/"},packages:{name:"Buy Packages",to:"/packages"}};default:return{schedule:{name:"Schedule",to:"/schedule"},trainers:{name:"Trainers",to:"/trainers"},clients:{name:"Clients",to:"/clients"},packages:{name:"Packages",to:"/packages"}}}}(),a=function(t,a){var n=a.value;e.setActivePage(n)};return s.a.createElement("div",{className:"sideBar"},s.a.createElement(y.a,{vertical:!0},s.a.createElement(y.a.Item,{as:d.b,to:"/landing",value:"dashboard",onClick:a,active:"dashboard"===e.activeItem},"Dashboard"),s.a.createElement(y.a.Item,{as:d.b,to:t.schedule.to,value:"schedule",onClick:a,active:"schedule"===e.activeItem},t.schedule.name),s.a.createElement(y.a.Item,{value:"trainers",as:d.b,to:t.trainers.to,onClick:a,active:"trainers"===e.activeItem},t.trainers.name),s.a.createElement(y.a.Item,{value:"clients",as:d.b,to:t.clients.to,onClick:a,active:"clients"===e.activeItem},t.clients.name),s.a.createElement(y.a.Item,{value:"packages",as:d.b,to:t.packages.to,onClick:a,active:"packages"===e.activeItem},t.packages.name)))})),B=a(19),G=a(422),R=a(421),V=function(e){return"".concat(e.first_name," ").concat(e.last_name)},H=function(e){return"".concat(e.getFullYear(),"-").concat(e.getMonth()+1,"-").concat(e.getDate())},J=function(e,t){return t.find((function(t){return t.id===e}))},z=function(e){var t=e.getHours()+"";1===t.length&&(t="0".concat(t));var a=e.getMinutes()+"";return 1===a.length&&(a=a.concat("0")),"".concat(t,":").concat(a)},K=function(e){return e.length<1?0:e.map((function(e){return e.session_count})).reduce((function(e,t){return e+t}))},Y=function(e,t){return t.sessions.filter((function(t){return new Date(e)<=new Date(t.daytime)})).length},q=function(e,t){var a=e.reduce((function(e,a){return Y(t,e)>Y(t,a)?e:a}));return{user:a,sessions:Y(t,a)}},X=function(e,t){return void 0===e.sessions.find((function(e){return new Date(e.daytime)<new Date(t)}))},W=function(){var e=new Date;e.setFullYear(e.getFullYear()-1);var t=new Date;t.setMonth(t.getMonth()-1);var a=new Date;return a.setDate(a.getDate()-a.getDay()),{year:e,month:t,week:a}},$=function(e,t,a,n,r){return void 0===t.filter((function(t){return(t.client_id===e.id||t.trainer_id===e.id)&&"cancelled"!==t.status})).find((function(e){return e.id!==r&&function(e,t,a,n){e=new Date(e);var r=new Date(e);r.setMinutes(r.getMinutes()+t);var l=new Date(a);return l.setMinutes(l.getMinutes()+n),e>=a&&e<l||r>a&&r<=l}(e.daytime,e.length,a,n)}))},Q=function(e,t){var a=e.split(" ")[0],n=e.split(" ")[1];return t.find((function(e){return e.first_name===a&&e.last_name===n}))},Z=function(e){var t,a=new Date(Date.now()),n=new Date(e.dob);return t=a.getMonth()===n.getMonth()?a.getDay()>=n.getDate()?0:-1:a.getMonth()>n.getMonth()?0:1,t+=a.getFullYear()-n.getFullYear(),Math.max(0,t)},ee=function(e){return e.map((function(e){return{key:e.id,value:e.id,text:e.name}}))},te=function(e,t){var a=t.filter((function(t){return t.client.id===e}));return(a=(a=a.filter((function(e){return e.session_count>0}))).filter((function(e){return new Date(e.expiration)>=new Date}))).map((function(e){return{key:e.id,value:e.id,text:"".concat(e.package.title," (").concat(e.session_count," remaining)")}}))},ae=a(420),ne=a(414),re=a(411),le=a(419),se=a(407),ie=a(417),ce=a(406),oe=function(e){return!0===e.full?s.a.createElement(ie.a,{className:"myloader",active:!0,page:!0},s.a.createElement(ce.a,null,"Loading")):e.nonsegment?s.a.createElement(ie.a,{className:"myloader",active:!0},s.a.createElement(ce.a,null,"Loading")):s.a.createElement(G.a,null,s.a.createElement(ie.a,{className:"myloader",active:!0},s.a.createElement(ce.a,null,"Loading")))},ue=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={times:W()},a.getSessionStats=function(e){return{topTrainer:q(a.props.allTrainers,e),sessions:a.props.allSessions.filter((function(t){return new Date(t.daytime)>=new Date(e)&&"complete"===t.status})),topClient:q(a.props.allClients,e),newClients:a.props.allClients.filter((function(t){return X(t,e)})),sessionsSold:K(a.props.clientPackages.filter((function(t){return new Date(t.created_at)>=new Date(e)})))}},a.renderStats=function(e,t){var n;return a.props.allLoading||(n=a.getSessionStats(e)),s.a.createElement(ae.a.Column,{key:t},s.a.createElement(ne.a,{className:"dash-card"},s.a.createElement(ne.a.Content,null,s.a.createElement(ne.a.Header,null,"This ","".concat(t))),s.a.createElement(ne.a.Content,null,a.props.allLoading?s.a.createElement(oe,{inverted:!0,nonsegment:!0}):s.a.createElement(re.a,null,s.a.createElement(re.a.Event,null,s.a.createElement(re.a.Content,null,s.a.createElement(re.a.Summary,null,s.a.createElement(le.a.Group,{horizontal:!0,size:"tiny"},s.a.createElement(le.a,{size:"tiny"},s.a.createElement(le.a.Value,null,n.sessions.length),s.a.createElement(le.a.Label,null,"Total Sessions")),s.a.createElement(le.a,{size:"tiny"},s.a.createElement(le.a.Value,null,n.newClients.length),s.a.createElement(le.a.Label,null,"New Clients")),s.a.createElement(le.a,{size:"tiny"},s.a.createElement(le.a.Value,null,n.sessionsSold),s.a.createElement(le.a.Label,null,"Sessions Sold")))))),s.a.createElement(se.a,null),s.a.createElement(re.a.Event,null,s.a.createElement(re.a.Content,null,s.a.createElement(re.a.Summary,null,s.a.createElement("b",null,"Top Trainer"),": ",s.a.createElement("a",{href:"/profile/".concat(n.topTrainer.user.id)},V(n.topTrainer.user))),s.a.createElement(re.a.Extra,null,n.topTrainer.sessions," sessions"))),s.a.createElement(se.a,null),s.a.createElement(re.a.Event,null,s.a.createElement(re.a.Content,null,s.a.createElement(re.a.Summary,null,s.a.createElement("b",null,"Top Client"),": ",s.a.createElement("a",{href:"/profile/".concat(n.topClient.user.id)},V(n.topClient.user))),s.a.createElement(re.a.Extra,null,n.topClient.sessions," sessions")))))))},a.renderTimes=function(){return Object.keys(a.state.times).map((function(e){return a.renderStats(a.state.times[e],e)}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(ae.a,{columns:3},s.a.createElement(ae.a.Row,null,this.renderTimes()))}}]),t}(l.Component),pe=Object(c.b)((function(e){return{allTrainers:e.user.allTrainers,allSessions:e.schedule.allSessions,allClients:e.user.allClients,clientPackages:e.app.clientPackages,allLoading:e.app.allLoading}}))(ue),de=Object(c.b)((function(e){return{user:e.user.user}}))((function(e){return s.a.createElement("div",null,function(){switch(e.user.type){case"Manager":return s.a.createElement(pe,null);default:return s.a.createElement(v.a,{to:"/schedule"})}}())})),me=a(153),he=a.n(me),ge=a(118),Ee=function(e,t){return t.id?[{id:t.id,title:V(t)}]:e.map((function(e){return{id:e.id,title:V(e)}}))},fe=function(e,t,a){return a.id&&(e=e.filter((function(e){return e.trainer_id===a.id}))),e.filter((function(e){return"cancelled"!==e.status})).map((function(e){var a=new Date(e.daytime);a.setMinutes(a.getMinutes()+e.length);var n=t.find((function(t){return t.id===e.client_id}));return{id:e.id,title:V(n),start:new Date(e.daytime),end:a,resourceId:e.trainer_id}}))},ve=function(e){return e.map((function(e){return{key:e.id,value:e.id,text:V(e)}}))},ye=function(e){return e.map((function(e){return{key:e.id,value:e.id,text:V(e)}}))};var be=a(27),Se=a(399),ke=a(410),Ce=a(87),we=a(409),_e=a(416),Oe=a(117),je=a.n(Oe),Te=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!1,searchResults:[],searchValue:""},a.handleClientSearchSelect=function(e,t){var n=t.result;a.props.setClient(n.id),a.setState({searchValue:n.title})},a.handleClientSearchChange=function(e,t){var n=t.value,r=a.props.clients.map((function(e){return Object(k.a)({},e,{title:V(e)})}));a.setState({isLoading:!0,searchValue:n}),setTimeout((function(){if(a.state.searchValue.length<1)a.setState({isLoading:!1,searchResults:[],searchValue:""});else{var e=new RegExp(je.a.escapeRegExp(a.state.searchValue),"i");a.setState({isLoading:!1,searchResults:je.a.filter(r,(function(t){return e.test(V(t))}))})}}),300)},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;if(this.props.client_id>0){var t=this.props.clients.find((function(t){return t.id===e.props.client_id}));this.props.setClient(t.id),this.setState({searchValue:V(t)})}}},{key:"render",value:function(){var e=this.state,t=e.isLoading,a=e.searchResults,n=e.searchValue;return s.a.createElement(_e.a,{className:"client-search",placeholder:"Search Client Name",loading:t,onResultSelect:this.handleClientSearchSelect,onSearchChange:je.a.debounce(this.handleClientSearchChange,500,{leading:!0}),results:a,value:n})}}]),t}(l.Component),Pe=Object(v.g)(Te),Ne=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={package_id:a.props.package.id,client_id:a.props.client.id,errors:[]},a.handleChange=function(e,t){var n=t.value,r=t.name;e.target.value&&(n=e.target.value,r=e.target.name),a.setState(Object(be.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.packages.find((function(e){return e.id===a.state.package_id})),n=new Date;n.setDate(n.getDate()+7*t.exp_weeks);var r={client_package:{client_id:a.state.client_id,package_id:a.state.package_id,session_count:t.session_count,expiration:n}};fetch("".concat(it,"/client_packages"),{method:"POST",headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(e){e.errors?a.setState({errors:e.errors}):(a.props.sellPackage(e.client_package),a.props.toggleForm())}))},a.renderErrors=function(){return a.state.errors.map((function(e,t){return s.a.createElement("li",{key:t},e)}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e,t=this;return console.log("rendering buy/sell package form...state = ",this.state),s.a.createElement("div",{className:"outer-popup"},s.a.createElement("div",{className:"inner-popup"},s.a.createElement(R.a,{as:"h1"},this.props.selling?"Sell":"Buy"," Package"),s.a.createElement(ke.a,{className:"sell-package-form",id:"sell-package-form",value:this.state.id,onSubmit:this.handleSubmit},s.a.createElement(ke.a.Group,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Client"),s.a.createElement(Pe,{client_id:this.state.client_id,clients:this.props.allClients,setClient:function(e){return t.setState({client_id:e})}}))),s.a.createElement(ke.a.Group,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Package"),s.a.createElement(ke.a.Select,{onChange:this.handleChange,value:this.state.package_id,name:"package_id",options:(e=this.props.packages,e.map((function(e){return{key:e.id,value:e.id,text:e.title}}))),placeholder:"Select Package"})))),s.a.createElement("p",null,s.a.createElement(Se.a,{primary:!0,type:"submit",form:"sell-package-form"},this.props.selling?"Sell Package":"Buy Package"),s.a.createElement(Se.a,{onClick:this.props.goBack},"Go Back")),this.state.errors.length>0?s.a.createElement("ul",null,this.renderErrors()):null))}}]),t}(l.Component),De=Object(c.b)(void 0,{sellPackage:function(e){return{type:"ADD_CLIENT_PACKAGE",payload:e}}})(Object(v.g)(Ne)),Ie=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={id:a.props.editSession.id,date:a.props.editSession.date,time:a.props.editSession.time,length:a.props.editSession.length,trainer_id:a.props.editSession.trainer_id,client_id:a.props.editSession.client_id,client_package_id:a.props.editSession.client_package_id,status:a.props.editSession.status,showPackForm:!1,errors:[]},a.handleChange=function(e,t){var n=t.value,r=t.name;e.target.value&&(n=e.target.value,r=e.target.name),a.setState(Object(be.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.isNew,n=a.state.date.split("-"),r=a.state.time.split(":"),l={session:{daytime:new Date(n[0],n[1]-1,n[2],r[0],r[1]),trainer_id:a.state.trainer_id,client_id:a.state.client_id,client_package_id:a.state.client_package_id,status:"scheduled",length:parseInt(a.state.length)}};if(a.state.client_id&&a.state.trainer_id)if(t&&!a.state.client_package_id)a.setState({errors:["Must select package to deduct"]});else{var s=a.props.allClients.find((function(e){return e.id===a.state.client_id})),i=a.props.allTrainers.find((function(e){return e.id===a.state.trainer_id}));if($(s,a.props.allSessions,l.session.daytime,l.session.length,a.state.id))if($(i,a.props.allSessions,l.session.daytime,l.session.length,a.state.id)){var c=t?"":"/".concat(a.state.id),o=t?"POST":"PATCH";fetch("".concat(it,"/sessions").concat(c),{method:o,headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(l)}).then((function(e){return e.json()})).then((function(e){if(e.errors)a.setState({errors:e.errors});else if(t){a.props.addSession(e.session);var n={session_count:a.props.clientPackages.find((function(e){return e.id===a.state.client_package_id})).session_count-1};fetch("".concat(it,"/client_packages/").concat(a.state.client_package_id),{method:"PATCH",headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.errors?a.setState({errors:e.errors}):(a.props.toggleForm(),a.props.decreaseSessionCount(a.state.client_package_id))}))}else a.props.updateSession(e.session),a.props.toggleForm()}))}else a.setState({errors:["The trainer has another session at this time. Try another time or trainer"]});else a.setState({errors:["The client already has a session at this time. Try another time"]})}else a.setState({errors:["Must select client and trainer!"]})},a.handleStatus=function(e,t){if("cancelled"!==t||!1!==window.confirm("Are you sure you want to cancel this session?")){var n={status:t};fetch("".concat(it,"/sessions/").concat(a.state.id),{method:"PATCH",headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.errors?a.setState({errors:e.errors}):(a.props.toggleForm(),a.props.updateSession(e.session))}))}},a.renderErrors=function(){return a.state.errors.map((function(e,t){return s.a.createElement("li",{key:t},e)}))},a.toggleForm=function(e){e&&e.preventDefault(),a.setState({showPackForm:!a.state.showPackForm})},a.renderPackageForm=function(){return s.a.createElement(De,{selling:!0,package:{},packages:a.props.packages,toggleForm:a.toggleForm,goBack:a.toggleForm,client:a.props.allClients.find((function(e){return e.id===a.state.client_id})),allClients:a.props.allClients})},a.renderPackageChoices=function(){var e=te(a.state.client_id,a.props.clientPackages);return e.length<1&&a.props.isNew?s.a.createElement(l.Fragment,null,s.a.createElement(Se.a,{size:"mini",secondary:!0,onClick:a.toggleForm},"Buy Sessions")):s.a.createElement(ke.a.Select,{onChange:a.handleChange,value:a.state.client_package_id,name:"client_package_id",options:e,placeholder:"Select Package"})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this;console.log("state =",this.state);var t,a=this.props.isNew;return this.state.showPackForm?this.renderPackageForm():s.a.createElement("div",{className:"outer-popup"},s.a.createElement("div",{className:"inner-popup"},s.a.createElement(R.a,{as:"h1"}," ",a?"Create":"Edit"," Session"),s.a.createElement(ke.a,{className:"session-form",id:"session-form",value:this.state.id,onSubmit:this.handleSubmit},s.a.createElement(ke.a.Group,null,s.a.createElement(G.a,{className:"client-trainer-select"},s.a.createElement("b",null,"Status: ",a?s.a.createElement("span",{className:"new-session"},"New"):s.a.createElement("span",{className:"".concat(this.state.status,"-session")},(t=this.state.status)[0].toUpperCase()+t.slice(1))))),s.a.createElement(ke.a.Group,{widths:"equal"},a?s.a.createElement(G.a,{className:"client-trainer-select"},s.a.createElement(Ce.a,{attached:"top"},"Trainer"),s.a.createElement(ke.a.Select,{onChange:this.handleChange,value:this.state.trainer_id,name:"trainer_id",options:this.props.trainerOptions,placeholder:"Select Trainer"})):s.a.createElement(G.a,{className:"client-trainer-select"},s.a.createElement("b",null,"Trainer: "),V(this.props.allTrainers.find((function(t){return t.id===e.state.trainer_id}))))),s.a.createElement(ke.a.Group,null,a?s.a.createElement(G.a,{className:"client-trainer-select"},s.a.createElement(Ce.a,{attached:"top"},"Client"),s.a.createElement(Pe,{client_id:this.state.client_id,clients:this.props.allClients,setClient:function(t){return e.setState({client_id:t})}}),void 0!==this.state.client_id?this.renderPackageChoices():null):s.a.createElement(G.a,{className:"client-trainer-select"},s.a.createElement("b",null,"Client: "),V(this.props.allClients.find((function(t){return t.id===e.state.client_id}))))),s.a.createElement(ke.a.Group,{inline:!0},s.a.createElement(Ce.a,{horizontal:!0},"Date"),s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:new Date(this.state.date).toISOString().split("T")[0],name:"date",type:"date"}),s.a.createElement(Ce.a,null,"Time"),s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.time,name:"time",type:"time"})),s.a.createElement(ke.a.Group,null,s.a.createElement(Ce.a,null,"Length"),s.a.createElement(ke.a.Field,null,s.a.createElement(we.a,{label:"30 min",name:"length",value:"30",checked:"30"===this.state.length,onChange:this.handleChange})),s.a.createElement(ke.a.Field,null,s.a.createElement(we.a,{label:"60 min",name:"length",value:"60",checked:"60"===this.state.length,onChange:this.handleChange})),s.a.createElement(ke.a.Field,null,s.a.createElement(we.a,{label:"90 min",name:"length",value:"90",checked:"90"===this.state.length,onChange:this.handleChange})))),s.a.createElement("p",null,this.props.isNew?null:s.a.createElement(Se.a,{onClick:function(t){return e.handleStatus(t,"cancelled")}},"Cancel Session"),this.props.isNew?null:s.a.createElement(Se.a,{onClick:function(t){return e.handleStatus(t,"no-show")}},"Mark No-Show"),this.props.isNew?null:s.a.createElement(Se.a,{onClick:function(t){return e.handleStatus(t,"complete")}},"Mark Completed")),s.a.createElement("p",null,s.a.createElement(Se.a,{primary:!0,type:"submit",form:"session-form"},this.props.isNew?"Book Session":"Save Changes"),s.a.createElement(Se.a,{onClick:this.props.goBack},"Go Back")),this.state.errors.length>0?s.a.createElement("ul",null,this.renderErrors()):null))}}]),t}(l.Component),Le=Object(c.b)((function(e){return{allClients:e.user.allClients,allSessions:e.schedule.allSessions,allTrainers:e.user.allTrainers,clientPackages:e.app.clientPackages,packages:e.app.packages}}),{addSession:function(e){return{type:"ADD_SESSION",payload:e}},updateSession:function(e){return{type:"UPDATE_SESSION",payload:e}},cancelSession:function(e){var t=Object(k.a)({},e);return t.status="cancelled",{type:"UPDATE_SESSION",payload:t}},decreaseSessionCount:function(e){return{type:"DECREASE_SESSIONS",payload:e}}})(Object(v.g)(Ie)),Ae=Object(ge.c)(he.a),Ue={date:new Date(Date.now()).toISOString().split("T")[0],time:"08:00",length:"60",trainer_id:void 0,client_id:void 0,status:"scheduled"},Fe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={views:{day:!0},userType:"Manager",trainer:{},client:{},showForm:!1,editSession:Object(k.a)({},Ue),enterNew:!0},a.setData=function(){var e=a.props.user;switch(e.type){case"Trainer":a.setState({userType:"Trainer",trainer:e,views:{day:!0,week:!0},sessions:a.props.allSessions.filter((function(t){return t.trainer_id===e.id}))});break;case"Client":a.setState({userType:"Client",views:{day:!0,week:!0},client:e,trainers:a.props.allTrainers.filter((function(t){return t.clients.includes(e.id)})),sessions:a.props.allSessions.filter((function(t){return t.trainer_id===e.id}))})}},a.toggleForm=function(e){a.setState({showForm:!a.state.showForm,errors:[]})},a.goBack=function(){a.setState({showForm:!1,editSession:Object(k.a)({},Ue),errors:[],enterNew:!0})},a.handleSlotSelect=function(e){var t={date:H(e.start),time:z(e.start),length:"60",trainer_id:e.resourceId,status:"new",client_id:void 0};a.setState({editSession:Object(k.a)({},t),showForm:!0,errors:[],enterNew:!0})},a.handleEventSelect=function(e){var t=Q(e.title,a.props.allClients),n=a.props.allSessions.find((function(t){return t.id===e.id})),r={id:e.id,date:H(e.start),time:z(e.start),length:"60",trainer_id:e.resourceId,status:n.status,client_id:t.id};a.setState({enterNew:!1,editSession:r,showForm:!0,errors:[]})},a.handleTrainerSelect=function(e,t){var n=t.value,r={},l=a.props.allTrainers,s={day:!0};"all"!==n&&(r=a.props.allTrainers.find((function(e){return e.id===n})),l=a.props.allTrainers.filter((function(e){return e.id===r.id})),s={day:!0,week:!0}),a.setState({trainer:r,trainers:l,views:s})},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){this.setData()}},{key:"render",value:function(){var e=this.props,t=e.allTrainers,a=e.allClients,n=e.allSessions,r=this.state,l=r.trainer,i=r.views;return s.a.createElement("div",{className:"sched-container"},this.state.showForm?s.a.createElement(Le,{editSession:this.state.editSession,trainerOptions:ve(t),clientOptions:ye(a),goBack:this.goBack,toggleForm:this.toggleForm,isNew:this.state.enterNew}):null,s.a.createElement(y.a,{id:"schedule-menu",secondary:!0},s.a.createElement(y.a.Item,{size:"small",onClick:this.toggleForm},s.a.createElement(b.a,{name:"plus"})," Add Session"),"Manager"===this.state.userType?s.a.createElement(y.a.Menu,{position:"right"},s.a.createElement(y.a.Item,null,s.a.createElement(S.a,{text:"Filter By Trainer",icon:"filter",selection:!0,onChange:this.handleTrainerSelect,options:this.props.allLoading?[]:[{key:"all",text:"Show All",value:"all"}].concat(Object(B.a)(ve(t)))}))):null),this.props.allLoading?s.a.createElement(ae.a,null,s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(oe,null)))):s.a.createElement(ge.a,{className:"calendar",localizer:Ae,views:i,selectable:!0,onSelectEvent:this.handleEventSelect,onSelectSlot:this.handleSlotSelect,defaultView:ge.b.DAY,step:15,scrollToTime:new Date(he()()),min:new Date(2017,1,1,5,0,0),max:new Date(2050,1,1,22,0,0),events:fe(n,a,l),resources:Ee(t,l),startAccessor:"start",endAccessor:"end"}))}}]),t}(l.Component),Me=Object(c.b)((function(e){return{user:e.user.user,allSessions:e.schedule.allSessions,allClients:e.user.allClients,allTrainers:e.user.allTrainers,allLoading:e.app.allLoading}}))(Object(v.g)(Fe)),xe=a(408),Be=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={id:a.props.editUser.id,first_name:a.props.editUser.first_name,last_name:a.props.editUser.last_name,gender:a.props.editUser.gender,dob:a.props.editUser.dob,email:a.props.editUser.email,phone:a.props.editUser.phone,level:"Trainer"===a.props.userType?a.props.editUser.level.id:"",errors:[]},a.handleChange=function(e,t){var n=t.value,r=t.name;e.target.name&&(r=e.target.name),a.setState(Object(be.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.isNew,n={user:{first_name:a.state.first_name,last_name:a.state.last_name,dob:a.state.dob,email:a.state.email,phone:a.state.phone,gender:a.state.gender},type:a.props.userType};"Trainer"===a.props.userType&&(n.user.level_id=a.state.level),t&&(n.password="password");var r="Trainer"===a.props.userType?"trainers":"clients",l=t?"":"/".concat(a.state.id),s=t?"POST":"PATCH";fetch("".concat(it,"/").concat(r).concat(l),{method:s,headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.errors?a.setState({errors:e.errors}):(t?a.props.addUser(e.user,a.props.userType):a.props.updateUser(e.user,a.props.userType),a.props.toggleForm())}))},a.renderErrors=function(){return a.state.errors.map((function(e,t){return s.a.createElement("li",{key:t},e)}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.isNew,a=e.userType;return s.a.createElement("div",{className:"outer-popup"},s.a.createElement("div",{className:"inner-popup"},s.a.createElement(ke.a,{className:"user-form",id:"user-form",onSubmit:this.handleSubmit},s.a.createElement(ke.a.Group,null,s.a.createElement(R.a,{as:"h1"}," ",t?"Add":"Edit"," ","Trainer"===a?"Trainer":"Client")),s.a.createElement(se.a,null),s.a.createElement(ke.a.Group,{widths:"equal"},s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.first_name,name:"first_name",label:"First Name",placeholder:"First name"}),s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.last_name,name:"last_name",label:"Last Name",placeholder:"Last name"})),s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:new Date(this.state.dob).toISOString().split("T")[0],type:"date",name:"dob",label:"Date of Birth",placeholder:"DOB"}),s.a.createElement(ke.a.Select,{onChange:this.handleChange,value:this.state.gender,label:"Gender",name:"gender",options:[{key:"male",value:"Male",text:"Male"},{key:"female",value:"Female",text:"Female"}],placeholder:"Select Level"})),s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,type:"email",value:this.state.email,name:"email",label:"Email",placeholder:"Email"}),s.a.createElement(ke.a.Input,{onChange:this.handleChange,type:"phone",value:this.state.phone,name:"phone",label:"Phone",placeholder:"Phone"})),"Trainer"===this.props.userType?s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Select,{onChange:this.handleChange,value:this.state.level,label:"Choose Level",name:"level",options:this.props.levelOptions,placeholder:"Select Level"})):null),this.props.isNew?null:s.a.createElement("p",null,s.a.createElement(Se.a,{size:"small",value:this.state.id,onClick:this.props.deleteUser},"Delete User")," "),s.a.createElement("p",null,s.a.createElement(Se.a,{primary:!0,type:"submit",form:"user-form"},this.props.isNew?"Submit":"Save Changes"),s.a.createElement(Se.a,{onClick:this.props.goBack},"Go Back")),this.state.errors.length>0?s.a.createElement("ul",null,this.renderErrors()):null))}}]),t}(l.Component),Ge=Object(c.b)(void 0,{addUser:function(e,t){return{type:"ADD_USER",payload:{user:e,userType:t}}},updateUser:L})(Object(v.g)(Be)),Re={first_name:"",last_name:"",dob:new Date,email:"",phone:"",level:{id:""}},Ve=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={showForm:a.props.showForm,enterNew:a.props.enterNew,editUser:a.props.editUser?a.props.editUser:Re,errors:[],path:a.props.userType.toLowerCase()+"s",searchName:""},a.deleteUser=function(e){if(confirm("Are you sure you want to delete this user?")){var t=e.target.value;fetch("".concat(it,"/").concat(a.state.path,"/").concat(t),{method:"DELETE",headers:{"content-type":"application/json",accepts:"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errors?a.setState({errors:e.errors.errors}):(a.goBack(!0),a.props.deleteUser(t,"".concat(a.props.userType)))}))}},a.viewProfile=function(e){a.props.history.push("/profile/".concat(e.target.value))},a.goBack=function(){a.props.back?a.props.history.goBack():a.setState({showForm:!1,enterNew:!0,editUser:Re,errors:[]})},a.toggleForm=function(e){var t=Re,n=!0;e&&e.target.value&&(t=a.props.allUsers.find((function(t){return t.id===parseInt(e.target.value)})),n=!1),a.setState({showForm:!a.state.showForm,editUser:t,enterNew:n,errors:[]})},a.handleSearchChange=function(e){a.setState({searchName:e.target.value})},a.renderUsers=function(){var e=a.props.user,t=a.props.userType,n=a.props.allUsers;if(n.sort((function(e,t){return e.last_name.localeCompare(t.last_name)})),""!==a.state.searchName){var r=a.state.searchName.toLowerCase();n=n.filter((function(e){return V(e).toLowerCase().includes(r)}))}return a.state.editForm||a.state.addForm?null:n.map((function(n){return s.a.createElement(ne.a,{key:n.id},s.a.createElement(ne.a.Content,null,s.a.createElement(ne.a.Header,null,V(n)),"Trainer"===t?s.a.createElement(ne.a.Meta,null,n.level.name," Trainer"):s.a.createElement(ne.a.Meta,null,n.gender,", ",Z(n)," years"),s.a.createElement(ne.a.Description,null)),s.a.createElement(ne.a.Content,{extra:!0},s.a.createElement("div",null,"Manager"===e.type?s.a.createElement(l.Fragment,null,s.a.createElement(Se.a,{value:n.id,onClick:a.toggleForm},"Edit")):null,s.a.createElement(Se.a,{value:n.id,onClick:a.viewProfile},"View Profile"))))}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"renderForm",value:function(){return this.state.enterNew?s.a.createElement(Ge,{isNew:!0,editUser:this.state.editUser,toggleForm:this.toggleForm,levelOptions:ee(this.props.levels),goBack:this.goBack,userType:this.props.userType}):s.a.createElement(Ge,{deleteUser:this.deleteUser,isNew:!1,editUser:this.state.editUser,toggleForm:this.toggleForm,levelOptions:ee(this.props.levels),goBack:this.goBack,userType:this.props.userType})}},{key:"renderAddButton",value:function(){return"Trainer"===this.props.userType?s.a.createElement("p",null,s.a.createElement(Se.a,{onClick:this.toggleForm},"Add A Trainer")):s.a.createElement("p",null,s.a.createElement(Se.a,{onClick:this.toggleForm},"Add A Client"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"train-container"},this.state.showForm?this.renderForm():null,this.renderAddButton(),s.a.createElement(y.a.Item,null,s.a.createElement(xe.a,{icon:"search",placeholder:"Search by Name...",onChange:this.handleSearchChange})),s.a.createElement("p",null),this.props.allLoading?s.a.createElement(oe,null):s.a.createElement(ne.a.Group,null,this.renderUsers()))}}]),t}(l.Component),He=Object(c.b)((function(e){return{user:e.user.user,allTrainers:e.user.allTrainers,allClients:e.user.allClients,levels:e.app.levels,allLoading:e.app.allLoading}}),{deleteUser:function(e,t){return{type:"DELETE_USER",payload:{id:e,userType:t}}}})(Object(v.g)(Ve)),Je=a(413),ze=a(230),Ke=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={path:"Trainer"===a.props.user.type?"trainers":"clients",errors:[]},a.renderClient=function(){var e=a.props.user;return s.a.createElement(l.Fragment,null,s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Info"),s.a.createElement(R.a,{as:"h3"},e.gender,", ",Z(e)," years old")))),s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Trainers"),s.a.createElement(Je.a,null,a.renderUserList(e.trainers))))),s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Packages"),s.a.createElement(Je.a,null,a.renderPackages(e.client_packages))))))},a.renderTrainer=function(){var e=a.props.user;return s.a.createElement(l.Fragment,null,s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Info"),s.a.createElement(R.a,{as:"h3"},e.gender,", ",e.level.name," trainer")))),s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Clients"),s.a.createElement(Je.a,null,a.renderUserList(e.clients))))),s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null)))},a.showEdit=function(e){a.props.history.push("/".concat(a.state.path,"/edit/").concat(e.target.value))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"renderUserList",value:function(e){var t=this;return e?e.map((function(e){return s.a.createElement(Je.a.Item,{key:e},s.a.createElement(d.b,{to:"/profile/".concat(e)},V(J(e,t.props.allUsers))))})):s.a.createElement("li",null,"No Trainers")}},{key:"renderPackages",value:function(e){return e?e.map((function(e){return s.a.createElement(Je.a.Item,{key:e.id},e.package.title," (",e.session_count," / ",e.package.session_count," remaining) ")})):s.a.createElement("li",null,"No Packages Yet!")}},{key:"render",value:function(){var e=this,t=this.props,a=t.user,n=t.currentUser;return s.a.createElement("div",{className:"user-profile"},s.a.createElement(ae.a,null,s.a.createElement(ae.a.Row,{columns:2},s.a.createElement(ae.a.Column,{width:2},s.a.createElement(ze.a,{src:"/img/profilepic.png",alt:"Profile Pic",size:"large"})),s.a.createElement(ae.a.Column,{width:8},s.a.createElement(R.a,{as:"h1"},V(a)))),"Trainer"===a.type?this.renderTrainer():this.renderClient(),s.a.createElement(ae.a.Row,{colums:1},n.id===a.id||"Manager"===n.type?s.a.createElement(Se.a,{value:a.id,onClick:this.showEdit},"Edit"):null,s.a.createElement(Se.a,{onClick:function(){return e.props.history.goBack()}},"Back"))))}}]),t}(l.Component),Ye=Object(c.b)((function(e){return{currentUser:e.user.user,allUsers:[].concat(Object(B.a)(e.user.allTrainers),Object(B.a)(e.user.allClients))}}))(Object(v.g)(Ke)),qe=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={id:-1,title:"",price:0,level_id:-1,exp_weeks:0,session_count:0,errors:[]},a.handleChange=function(e,t){var n=t.value,r=t.name;e.target.value&&(n=e.target.value,r=e.target.name),a.setState(Object(be.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.props.isNew,n={package:{title:a.state.title,price:a.state.price,level_id:a.state.level_id,exp_weeks:a.state.exp_weeks,session_count:a.state.session_count}},r=t?"":"/".concat(a.state.id),l=t?"POST":"PATCH";fetch("".concat(it,"/packages").concat(r),{method:l,headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.errors?a.setState({errors:e.errors}):(t?a.props.addPackage(e.package):a.props.updatePackage(e.package),a.props.toggleForm())}))},a.handleDelete=function(e){fetch("".concat(it,"/packages/").concat(a.state.id),{method:"DELETE",headers:{"content-type":"application/json",accepts:"application/json"}}).then((function(e){return e.json()})).then((function(e){e.errors?a.setState({errors:e.errors}):(a.props.toggleForm(),a.props.deletePackage(a.state.id))}))},a.renderErrors=function(){return a.state.errors.map((function(e,t){return s.a.createElement("li",{key:t},e)}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){if(!this.props.isNew){var e=this.props.editPack;this.setState({id:e.id,title:e.title,price:e.price,level_id:e.level.id,exp_weeks:e.exp_weeks,session_count:e.session_count})}}},{key:"render",value:function(){return s.a.createElement("div",{className:"outer-popup"},s.a.createElement("div",{className:"inner-popup"},s.a.createElement(ke.a,{className:"package-form",id:"package-form",value:this.state.id,onSubmit:this.handleSubmit},s.a.createElement(ke.a.Group,{widths:"equal"},s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.title,name:"title",label:"Title",type:"text"})),s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.session_count,name:"session_count",label:"Number of Sessions",type:"number"}),s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.exp_weeks,name:"exp_weeks",label:"Expiration Weeks",type:"number"})),s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.price,name:"price",label:"Price",type:"number"}),s.a.createElement(ke.a.Select,{onChange:this.handleChange,value:this.state.level_id,name:"level_id",label:"Level",options:ee(this.props.levels),placeholder:"Select Level"}))),s.a.createElement("p",null,s.a.createElement(Se.a,{primary:!0,type:"submit",form:"package-form"},this.props.isNew?"Create Package":"Save Changes"),this.props.isNew?null:s.a.createElement(Se.a,{onClick:this.handleDelete},"Delete Package"),s.a.createElement(Se.a,{onClick:this.props.goBack},"Go Back")),this.state.errors.length>0?s.a.createElement("ul",null,this.renderErrors()):null))}}]),t}(l.Component),Xe=Object(c.b)(void 0,{addPackage:A,updatePackage:U,deletePackage:F})(Object(v.g)(qe)),We=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={form:"",showPopup:!1,editPack:{},errors:[]},a.goBack=function(){a.setState({form:"",showPopup:!1,errors:[]})},a.toggleForm=function(e){a.setState({showPopup:!a.state.showPopup,errors:[]})},a.handleClick=function(e,t){var n=e.target.name,r={};-1!==t&&(r=a.props.packages.find((function(e){return e.id===t}))),a.setState({showPopup:!0,form:n,editPack:r})},a.renderPopup=function(){switch(a.state.form){case"edit":return s.a.createElement(Xe,{isNew:!1,editPack:a.state.editPack,toggleForm:a.toggleForm,goBack:a.goBack,levels:a.props.levels});case"add":return s.a.createElement(Xe,{isNew:!0,toggleForm:a.toggleForm,goBack:a.goBack,levels:a.props.levels});case"sell":return s.a.createElement(De,{selling:!0,package:a.state.editPack,packages:a.props.packages,toggleForm:a.toggleForm,goBack:a.goBack,client:{},allClients:a.props.allClients});case"buy":return s.a.createElement(De,{selling:!1,package:a.state.editPack,packages:a.props.packages,toggleForm:a.toggleForm,goBack:a.goBack,client:a.props.user,allClients:[a.props.user]})}},a.renderAddButton=function(){return"Manager"===a.props.user.type?s.a.createElement(Se.a,{name:"add",onClick:function(e){return a.handleClick(e,-1)}},s.a.createElement(b.a,{name:"plus"}),"Add Package"):null},a.renderLevelPackages=function(){return a.props.levels.map((function(e){var t=a.props.packages.filter((function(t){return t.level.id===e.id}));return t.sort((function(e,t){return e.price-t.price})),s.a.createElement(l.Fragment,null,s.a.createElement(ae.a.Row,{key:e.id,columns:1},s.a.createElement(ae.a.Column,null,s.a.createElement(R.a,{as:"h3"},s.a.createElement(b.a,{name:"angle right"}),e.name," Packages:"))),a.renderPackages(t),s.a.createElement(se.a,null))}))},a.renderPackages=function(e){var t=a.props.user.type,n={Manager:{package_button:"Sell Package",name:"sell"},Trainer:{package_button:"Sell Package",name:"sell"},Client:{package_button:"Purchase Package",name:"buy"}};return e.map((function(e){return s.a.createElement(ae.a.Row,{key:e.id,columns:2},s.a.createElement(ae.a.Column,{width:1}," "),s.a.createElement(ae.a.Column,{width:10},s.a.createElement(R.a,{as:"h3",content:e.title,subheader:"".concat(e.session_count," ").concat(e.level.name," session").concat(e.session_count>1?"s":""," | Price: $").concat(e.price,".00")}),s.a.createElement("span",null,"Manager"===t?s.a.createElement(Se.a,{name:"edit",onClick:function(t){return a.handleClick(t,e.id)}},"Edit Package"):null,s.a.createElement(Se.a,{name:n[t].name,onClick:function(t){return a.handleClick(t,e.id)}},n[t].package_button))))}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"packages-container"},this.state.showPopup?this.renderPopup():null,s.a.createElement(y.a,{secondary:!0},s.a.createElement(y.a.Item,null,s.a.createElement("h1",null,"All Packages")),s.a.createElement(y.a.Item,null,this.renderAddButton())),s.a.createElement(se.a,null),s.a.createElement(ae.a,null,this.props.allLoading?s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(oe,null))):this.renderLevelPackages()))}}]),t}(l.Component),$e=Object(c.b)((function(e){return{user:e.user.user,packages:e.app.packages,levels:e.app.levels,allClients:e.user.allClients,allLoading:e.app.allLoading}}),{deletePackage:F,updatePackage:U,addPackage:A})(Object(v.g)(We)),Qe=a(415),Ze=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={id:a.props.user.id,first_name:a.props.user.first_name,last_name:a.props.user.last_name,email:a.props.user.email,phone:a.props.user.phone,dob:a.props.user.dob,gender:a.props.user.gender,old_password:"",new_password:"",new_password_confirm:"",errors:[],success:!1,base_url:"Manager"===a.props.user.type?"users":a.props.user.type.toLowerCase()+"s"},a.handleErrors=function(){return s.a.createElement("ul",null,a.state.errors.map((function(e){return s.a.createElement("li",{key:e},e)})))},a.handleChange=function(e,t){var n,r=t.value,l=t.name;e.target.value&&(r=e.target.value,l=e.target.name),a.setState((n={},Object(be.a)(n,l,r),Object(be.a)(n,"success",!1),n))},a.handleResponse=function(e){e.errors?a.setState({errors:e.errors,success:!1}):(a.props.updateUser(e.user,a.props.user.type),a.setState({success:!0}))},a.updateAcct=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.old_password,type:a.props.user.type};fetch("".concat(it,"/login"),{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.data)if(a.state.new_password===a.state.new_password_confirm){var t={user:{email:a.state.email},password:a.state.new_password,password_confirmation:a.state.new_password_confirmation,type:a.props.userType};fetch("".concat(it,"/").concat(a.state.base_url,"/").concat(a.state.id),{method:"PATCH",headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a.handleResponse(e)}))}else a.setState({errors:["Password and Confirm don't match"],success:!1});else a.setState({errors:["Incorrect old password"],success:!1})}))},a.updateProfile=function(e){e.preventDefault();var t={user:{first_name:a.state.first_name,last_name:a.state.last_name,dob:a.state.dob,phone:a.state.phone,gender:a.state.gender},type:a.props.userType};"Trainer"===a.props.user.type&&(t.user.level_id=a.state.level),fetch("".concat(it,"/").concat(a.state.base_url,"/").concat(a.state.id),{method:"PATCH",headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a.handleResponse(e)}))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return s.a.createElement(ae.a,null,this.state.errors.length>0?s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,this.handleErrors())):null,this.state.success?s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(Qe.a.Group,{fluid:!0},s.a.createElement(Qe.a,{completed:!0},s.a.createElement(b.a,{name:"setting"}),s.a.createElement(Qe.a.Content,null,s.a.createElement(Qe.a.Title,null,"Success"),s.a.createElement(Qe.a.Description,null,"Settings saved!")))))):null,s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Account"),s.a.createElement(ke.a,{onSubmit:this.updateAcct},s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,type:"email",value:this.state.email,name:"email",label:"Change Email",placeholder:"Email"})),s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,type:"password",value:this.state.old_password,name:"old_password",label:"Change Password",placeholder:"Enter old password"})),s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,type:"password",value:this.state.new_password,name:"new_password",placeholder:"Enter New Password"}),s.a.createElement(ke.a.Input,{onChange:this.handleChange,type:"password",value:this.state.new_password_confirm,name:"new_password_confirm",placeholder:"Confirm New Password"})),s.a.createElement(ke.a.Button,null,"Update"))))),s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"Profile"),s.a.createElement(ke.a,{onSubmit:this.updateProfile},s.a.createElement(ke.a.Group,{widths:"equal"},s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.first_name,name:"first_name",label:"First Name",placeholder:"First name"}),s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:this.state.last_name,name:"last_name",label:"Last Name",placeholder:"Last name"})),s.a.createElement(ke.a.Group,null,s.a.createElement(ke.a.Input,{onChange:this.handleChange,value:new Date(this.state.dob).toISOString().split("T")[0],type:"date",name:"dob",label:"Date of Birth",placeholder:"DOB"}),s.a.createElement(ke.a.Select,{onChange:this.handleChange,value:this.state.gender,label:"Gender",name:"gender",options:[{key:"male",value:"Male",text:"Male"},{key:"female",value:"Female",text:"Female"}],placeholder:"Select Level"})),s.a.createElement(ke.a.Input,{onChange:this.handleChange,type:"phone",value:this.state.phone,name:"phone",label:"Phone",placeholder:"Phone"}),s.a.createElement(ke.a.Button,null,"Update"))))),"Manager"===this.props.user.type?s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,null,s.a.createElement(G.a,null,s.a.createElement(Ce.a,{attached:"top"},"System Settings")))):null)}}]),t}(l.Component),et=Object(c.b)((function(e){return{user:e.user.user,allTrainers:e.user.allTrainers,allSessions:e.schedule.allSessions,allClients:e.user.allClients,clientPackages:e.app.clientPackages}}),{updateUser:L})(Ze),tt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",password_confirm:"",type:"Client",errors:[]},a.handleChange=function(e,t){var n=t.value,r="type";e.target.name&&(n=e.target.value,r=e.target.name),a.setState(Object(be.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.email;t.password===t.password_confirm?fetch("".concat(it,"/finduser/").concat(n)).then((function(e){return e.json()})).then((function(e){if(e.user){var t=e.data,n={password:a.state.password};fetch("".concat(it,"/users/").concat(t.id),{method:"PATCH",headers:{"content-type":"application/json",accepts:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){e.errors?(a.props.setUser({}),localStorage.removeItem("user_id"),a.setState({errors:Object(B.a)(e.errors)})):(localStorage.user_id=t.id,a.props.setUser(t),console.log("fetching all the shitsssss LOGIN"),a.props.initialFetch(t))}))}else a.props.setUser({}),localStorage.removeItem("user_id"),a.setState({errors:Object(B.a)(e.errors)})})).catch((function(e){return console.log("api errors:",e)})):a.setState({errors:["Password and password confirmation must match!"]})},a.handleErrors=function(){return s.a.createElement("ul",null,a.state.errors.map((function(e){return s.a.createElement("li",{key:e},e)})))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password,n=e.password_confirm;return s.a.createElement("div",{className:"login"},s.a.createElement(G.a,null,s.a.createElement("h1",null,"Register"),s.a.createElement(ke.a,{onSubmit:this.handleSubmit},s.a.createElement(G.a,{className:"signup-segment"},s.a.createElement(Ce.a,{attached:"top"},"Enter your Email Address"),s.a.createElement(ke.a.Input,{placeholder:"email",type:"text",name:"email",value:t,onChange:this.handleChange})),s.a.createElement(G.a,{className:"signup-segment"},s.a.createElement(Ce.a,{attached:"top"},"Create and Confirm Your Password"),s.a.createElement(ke.a.Input,{placeholder:"password",type:"password",name:"password",value:a,onChange:this.handleChange}),s.a.createElement(ke.a.Input,{placeholder:"password confirmation",type:"password",name:"password_confirm",value:n,onChange:this.handleChange})),s.a.createElement(G.a,{className:"signup-segment"},s.a.createElement(Ce.a,{attached:"top"},"Select User Type"),s.a.createElement(ke.a.Group,{inline:!0},s.a.createElement(we.a,{label:"Trainer",name:"type",value:"Trainer",checked:"Trainer"===this.state.type,onChange:this.handleChange}),s.a.createElement(we.a,{label:"Manager",name:"type",value:"Manager",checked:"Manager"===this.state.type,onChange:this.handleChange}),s.a.createElement(we.a,{label:"Client",name:"type",value:"Client",checked:"Client"===this.state.type,onChange:this.handleChange}))),s.a.createElement(Se.a,{type:"submit"},"Sign Up")),s.a.createElement(y.a,{text:!0},s.a.createElement(y.a.Item,null,s.a.createElement(d.b,{to:"/login"},"Or Sign In Here"))),s.a.createElement("div",null,this.state.errors?this.handleErrors():null)))}}]),t}(l.Component),at=Object(c.b)(void 0,{setUser:C,updateUser:L})(Object(v.g)(tt)),nt=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={email:"",password:"",type:"Manager",errors:""},a.handleChange=function(e,t){var n=t.value,r="type";e.target.name&&(n=e.target.value,r=e.target.name),a.setState(Object(be.a)({},r,n))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n={email:t.email,password:t.password,type:t.type};fetch("".concat(it,"/login"),{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){if(e.data){a.props.setAllLoading(!0),a.props.setUserLoading(!0);var t=e.data;localStorage.user_id=t.id,a.props.setUser(t),a.props.setUserLoading(!1),console.log("fetching all the shitsssss LOGIN"),a.props.initialFetch(t)}else a.props.setUser({}),a.props.setUserLoading(!1),localStorage.removeItem("user_id"),a.setState({errors:e.errors})})).catch((function(e){return console.log("api errors:",e)}))},a.handleErrors=function(){return s.a.createElement("ul",null,a.state.errors.map((function(e){return s.a.createElement("li",{key:e},e)})))},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.state,t=e.email,a=e.password;return s.a.createElement("div",{className:"login"},s.a.createElement(G.a,null,s.a.createElement("h1",null,"Log In"),s.a.createElement(ke.a,{onSubmit:this.handleSubmit},s.a.createElement(ke.a.Input,{placeholder:"email",type:"text",name:"email",value:t,onChange:this.handleChange}),s.a.createElement(ke.a.Input,{placeholder:"password",type:"password",name:"password",value:a,onChange:this.handleChange}),s.a.createElement(ke.a.Input,null,s.a.createElement(ke.a.Group,null,s.a.createElement(ae.a,null,s.a.createElement(ae.a.Row,null,s.a.createElement(ae.a.Column,{width:5},s.a.createElement(we.a,{label:"Trainer",name:"type",value:"Trainer",checked:"Trainer"===this.state.type,onChange:this.handleChange})),s.a.createElement(ae.a.Column,{width:5},s.a.createElement(we.a,{label:"Manager",name:"type",value:"Manager",checked:"Manager"===this.state.type,onChange:this.handleChange})),s.a.createElement(ae.a.Column,{width:5},s.a.createElement(we.a,{label:"Client",name:"type",value:"Client",checked:"Client"===this.state.type,onChange:this.handleChange})))))),s.a.createElement(Se.a,{type:"submit"},"Log In")),s.a.createElement(y.a,{text:!0},s.a.createElement(y.a.Item,null,"New User?"),s.a.createElement(y.a.Item,null,s.a.createElement(d.b,{to:"/signup"},"Register Here"))),s.a.createElement("div",null,this.state.errors?this.handleErrors():null)))}}]),t}(l.Component),rt=Object(c.b)(void 0,(function(e){return{initialFetch:function(t){return e(T(t))},setUser:function(t){return e(C(t))},setUserLoading:function(t){return e(O(t))},setAllLoading:function(t){return e(j(t))}}}))(Object(v.g)(nt)),lt=Object(c.b)((function(e){return{user:e.user.user,allTrainers:e.user.allTrainers,allClients:e.user.allClients,allLoading:e.app.allLoading}}))(Object(v.g)((function(e){var t=function(){return e.user.id||localStorage.user_id?s.a.createElement(de,null):s.a.createElement(v.a,{to:"/login"})},a=function(t){if(!e.user.id&&!localStorage.user_id)return s.a.createElement(v.a,{to:"/login"});if(t.match.params.id){var a=J(parseInt(t.match.params.id),e.allClients);return s.a.createElement(He,{back:!0,editUser:a,enterNew:!1,showForm:!0,allUsers:e.allClients,userType:"Client"})}return s.a.createElement(He,{back:!1,showForm:!1,enterNew:!0,allUsers:e.allClients,userType:"Client"})},n=function(t){if(!e.user.id&&!localStorage.user_id)return s.a.createElement(v.a,{to:"/login"});if(t.match.params.id){var a=J(parseInt(t.match.params.id),e.allTrainers);return s.a.createElement(He,{back:!0,editUser:a,enterNew:!1,showForm:!0,allUsers:e.allTrainers,userType:"Trainer"})}return s.a.createElement(He,{back:!1,showForm:!1,enterNew:!0,allUsers:e.allTrainers,userType:"Trainer"})};return s.a.createElement("div",{className:"mainBody"},s.a.createElement(v.d,null,s.a.createElement(v.b,{exact:!0,path:"/landing",render:t}),s.a.createElement(v.b,{exact:!0,path:"/",render:t}),s.a.createElement(v.b,{exact:!0,path:"/login",render:function(){return e.user.id?s.a.createElement(v.a,{to:"/"}):s.a.createElement(rt,null)}}),s.a.createElement(v.b,{exact:!0,path:"/signup",render:function(){return e.user.id?s.a.createElement(v.a,{to:"/"}):s.a.createElement(at,null)}}),s.a.createElement(v.b,{exact:!0,path:"/schedule",render:function(){return e.user.id||localStorage.user_id?s.a.createElement(Me,null):s.a.createElement(v.a,{to:"/login"})}}),s.a.createElement(v.b,{exact:!0,path:"/trainers",render:n}),s.a.createElement(v.b,{exact:!0,path:"/clients",render:a}),s.a.createElement(v.b,{exact:!0,path:"/clients/edit/:id",render:a}),s.a.createElement(v.b,{exact:!0,path:"/trainers/edit/:id",render:n}),s.a.createElement(v.b,{exact:!0,path:"/packages",render:function(){return e.user.id||localStorage.user_id?s.a.createElement($e,null):s.a.createElement(v.a,{to:"/login"})}}),s.a.createElement(v.b,{exact:!0,path:"/settings",render:function(){return e.user.id||localStorage.user_id?s.a.createElement(et,null):s.a.createElement(v.a,{to:"/login"})}}),s.a.createElement(v.b,{exact:!0,path:"/profile/:id",render:function(t){if(!e.user.id&&!localStorage.user_id)return s.a.createElement(v.a,{to:"/login"});var a=parseInt(t.match.params.id),n=J(a,[].concat(Object(B.a)(e.allTrainers),Object(B.a)(e.allClients)));if(void 0!==n)return s.a.createElement(Ye,{user:n});e.history.goBack()}}),s.a.createElement(v.b,{render:function(){return s.a.createElement("div",null,s.a.createElement(G.a,{placeholder:!0},s.a.createElement(R.a,{icon:!0},s.a.createElement(b.a,{name:"frown"}),"Oops! This Page Doesn't Exist...")))}})))}))),st=Object(c.b)((function(e){return{user:e.user.user,allLoading:e.app.allLoading,userLoading:e.app.userLoading}}))((function(e){return s.a.createElement("div",{className:"main"},e.user.id?s.a.createElement(x,null):null,e.userLoading?s.a.createElement(oe,{full:!0}):s.a.createElement(lt,null))})),it="https://training-manager-backend.herokuapp.com/api/v1",ct=function(e){function t(){var e,a;Object(m.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(f.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=localStorage.user_id;t?fetch("".concat(it,"/auto_login"),{headers:{Authorization:t}}).then((function(e){return e.json()})).then((function(t){if(200!==t.status)localStorage.removeItem("user_id"),e.props.setUser({});else{e.props.setUser(t.data),e.props.setUserLoading(!1);var a=t.data;console.log("fetching all the shitsssss autologin"),e.props.initialFetch(a)}})):this.props.setUserLoading(!1)}},{key:"render",value:function(){return s.a.createElement("div",{className:"app"},s.a.createElement(M,null),s.a.createElement(st,null))}}]),t}(l.Component),ot=Object(c.b)((function(e){return{user:e.user.user,allLoading:e.app.allLoading,userLoading:e.app.userLoading,loading:e.app.loading}}),(function(e){return{initialFetch:function(t){return e(T(t))},setUser:function(t){return e(C(t))},setUserLoading:function(t){return e(O(t))}}}))(Object(v.g)(ct)),ut={allSessions:[]};var pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SESSIONS":return Object(k.a)({},e,{allSessions:t.payload});case"ADD_SESSION":return Object(k.a)({},e,{allSessions:[].concat(Object(B.a)(e.allSessions),[t.payload])});case"UPDATE_SESSION":var a=Object(B.a)(e.allSessions),n=a.findIndex((function(e){return e.id===t.payload.id}));return a[n]=Object(k.a)({},t.payload),Object(k.a)({},e,{allSessions:Object(B.a)(a)});case"DELETE_SESSION":return Object(k.a)({},e,{allSessions:e.allSessions.filter((function(e){return e.id!==t.payload}))});default:return e}},dt={user:{},allClients:[],allTrainers:[],allUsers:[]};var mt=function(){var e,t,a,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dt,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case"SET_USER":return Object(k.a)({},n,{user:r.payload});case"SET_USERS":return t="all".concat(r.payload.userType,"s"),Object(k.a)({},n,Object(be.a)({},t,r.payload.users));case"ADD_USER":return t="all".concat(r.payload.userType,"s"),Object(k.a)({},n,Object(be.a)({},t,[].concat(Object(B.a)(n[t]),[r.payload.user])));case"UPDATE_USER":return"Manager"===r.payload.userType?Object(k.a)({},n,{user:r.payload.user}):(t="all".concat(r.payload.userType,"s"),e=(a=Object(B.a)(n[t])).findIndex((function(e){return e.id===r.payload.user.id})),a[e]=Object(k.a)({},r.payload.user),Object(k.a)({},n,Object(be.a)({},t,Object(B.a)(a))));case"DELETE_USER":return e=n[t="all".concat(r.payload.userType,"s")].findIndex((function(e){return e.id===parseInt(r.payload.id)})),Object(k.a)({},n,Object(be.a)({},t,[].concat(Object(B.a)(n[t].slice(0,e)),Object(B.a)(n[t].slice(e+1)))));default:return n}},ht={activePage:"dashboard",levels:[],packages:[],clientPackages:[],userLoading:!0,allLoading:!0,loading:!0};var gt=function(){var e,t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ALL_LOADING":return Object(k.a)({},a,{allLoading:n.payload});case"SET_USER_LOADING":return Object(k.a)({},a,{userLoading:n.payload});case"SET_ACTIVEPAGE":return Object(k.a)({},a,{activePage:n.payload});case"SET_LEVELS":return Object(k.a)({},a,{levels:n.payload});case"ADD_LEVEL":return Object(k.a)({},a,{levels:[].concat(Object(B.a)(a.packages),[n.payload])});case"UPDATE_LEVEL":return t=(e=Object(B.a)(a.levels)).findIndex((function(e){return e.id===n.payload.id})),e[t]=Object(k.a)({},n.payload),Object(k.a)({},a,{levels:Object(B.a)(e)});case"DELETE_LEVEL":return t=a.levels.findIndex((function(e){return e.id===parseInt(n.payload)})),Object(k.a)({},a,{levels:[].concat(Object(B.a)(a.levels.slice(0,t)),Object(B.a)(a.levels.slice(t+1)))});case"SET_PACKAGES":return Object(k.a)({},a,{packages:n.payload});case"ADD_PACKAGE":return Object(k.a)({},a,{packages:[].concat(Object(B.a)(a.packages),[n.payload])});case"SET_CLIENT_PACKAGES":return Object(k.a)({},a,{clientPackages:n.payload});case"ADD_CLIENT_PACKAGE":return Object(k.a)({},a,{clientPackages:[].concat(Object(B.a)(a.clientPackages),[n.payload])});case"DECREASE_SESSIONS":return(e=Object(B.a)(a.clientPackages))[t=a.clientPackages.findIndex((function(e){return e.id===n.payload}))].session_count-=1,Object(k.a)({},a,{clientPackages:Object(B.a)(e)});case"UPDATE_PACKAGE":return t=(e=Object(B.a)(a.packages)).findIndex((function(e){return e.id===n.payload.id})),e[t]=Object(k.a)({},n.payload),Object(k.a)({},a,{packages:Object(B.a)(e)});case"DELETE_PACKAGE":return t=a.packages.findIndex((function(e){return e.id===parseInt(n.payload)})),Object(k.a)({},a,{packages:[].concat(Object(B.a)(a.packages.slice(0,t)),Object(B.a)(a.packages.slice(t+1)))});default:return a}},Et=Object(i.c)({schedule:pt,user:mt,app:gt}),ft=Object(i.e)(Et,Object(i.d)(Object(i.a)(o.a),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));p.a.render(s.a.createElement(r.a,{url:"ws://training-manager-backend.herokuapp.com/api/v1"},s.a.createElement(c.a,{store:ft},s.a.createElement(d.a,null,s.a.createElement(ot,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[242,1,2]]]);
//# sourceMappingURL=main.0d16dc9b.chunk.js.map